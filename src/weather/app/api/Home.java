/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */
package weather.app.api;

import com.itextpdf.text.Document;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.pdf.PdfPCell;
import com.itextpdf.text.pdf.PdfPTable;
import com.itextpdf.text.pdf.PdfWriter;
import com.mysql.jdbc.exceptions.jdbc4.CommunicationsException;
import java.awt.image.BufferedImage;
import java.io.*;
import java.net.*;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import javax.imageio.ImageIO;
import javax.swing.ImageIcon;
import javax.swing.JOptionPane;
import org.json.JSONArray;
import org.json.JSONObject;

/**
 *
 * @author Mishu
 */
public class Home extends javax.swing.JFrame {

    /**
     * Creates new form Home
     */
    public Home() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel10 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jComboBox1 = new javax.swing.JComboBox();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jLabel9 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyPressed(java.awt.event.KeyEvent evt) {
                formKeyPressed(evt);
            }
        });
        getContentPane().setLayout(null);

        jLabel10.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(205, 229, 244));
        jLabel10.setText("Weather Forecast");
        getContentPane().add(jLabel10);
        jLabel10.setBounds(210, 20, 240, 30);

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(205, 229, 244));
        jLabel2.setText("Enter City");
        getContentPane().add(jLabel2);
        jLabel2.setBounds(80, 90, 130, 30);

        jButton1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jButton1.setText("Submit");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });
        getContentPane().add(jButton1);
        jButton1.setBounds(250, 150, 157, 45);

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 24)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(51, 0, 51));
        getContentPane().add(jLabel1);
        jLabel1.setBounds(290, 240, 330, 40);

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(51, 0, 51));
        getContentPane().add(jLabel3);
        jLabel3.setBounds(350, 430, 190, 30);

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(51, 0, 51));
        getContentPane().add(jLabel4);
        jLabel4.setBounds(130, 430, 190, 30);

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(51, 0, 51));
        getContentPane().add(jLabel5);
        jLabel5.setBounds(50, 240, 190, 40);

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(51, 0, 51));
        getContentPane().add(jLabel6);
        jLabel6.setBounds(250, 310, 270, 40);

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(51, 0, 51));
        getContentPane().add(jLabel7);
        jLabel7.setBounds(250, 350, 330, 36);

        jLabel8.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        getContentPane().add(jLabel8);
        jLabel8.setBounds(50, 290, 150, 150);

        jComboBox1.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jComboBox1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Select", "Adoni", "Agartala", "Agra", "Ahmedabad", "Ahmednagar", "Aizawl", "Ajmer", "Akola", "Akot", "Alappuzha", "Aligarh", "AlipurdUrban Agglomerationr", "Alirajpur", "Allahabad", "Alwar", "Amalapuram", "Amalner", "Ambejogai", "Ambikapur", "Amravati", "Amreli", "Amritsar", "Amroha", "Anakapalle", "Anand", "Anantapur", "Anantnag", "Anjangaon", "Anjar", "Ankleshwar", "Arakkonam", "Arambagh", "Araria", "Arrah", "Arsikere", "Aruppukkottai", "Arvi", "Arwal", "Asansol", "Asarganj", "Ashok Nagar", "Athni", "Attingal", "Aurangabad", "Aurangabad", "Azamgarh", "Bagaha", "Bageshwar", "Bahadurgarh", "Baharampur", "Bahraich", "Balaghat", "Balangir", "Baleshwar Town", "Ballari", "Balurghat", "Bankura", "Bapatla", "Baramula", "Barbil", "Bargarh", "Barh", "Baripada Town", "Barmer", "Barnala", "Barpeta", "Batala", "Bathinda", "Begusarai", "Belagavi", "Bellampalle", "Belonia", "Bengaluru", "Bettiah", "BhabUrban Agglomeration", "Bhadrachalam", "Bhadrak", "Bhagalpur", "Bhainsa", "Bharatpur", "Bharuch", "Bhatapara", "Bhavnagar", "Bhawanipatna", "Bheemunipatnam", "Bhilai Nagar", "Bhilwara", "Bhimavaram", "Bhiwandi", "Bhiwani", "Bhongir", "Bhopal", "Bhubaneswar", "Bhuj", "Bikaner", "Bilaspur", "Bobbili", "Bodhan", "Bokaro Steel City", "Bongaigaon City", "Brahmapur", "Buxar", "Byasanagar", "Chaibasa", "Chalakudy", "Chandausi", "Chandigarh", "Changanassery", "Charkhi Dadri", "Chatra", "Chennai", "Cherthala", "Chhapra", "Chhapra", "Chikkamagaluru", "Chilakaluripet", "Chirala", "Chirkunda", "Chirmiri", "Chittoor", "Chittur-Thathamangalam", "Coimbatore", "Cuttack", "Dalli-Rajhara", "Darbhanga", "Darjiling", "Davanagere", "Deesa", "Dehradun", "Dehri-on-Sone", "Delhi", "Deoghar", "Dhamtari", "Dhanbad", "Dharmanagar", "Dharmavaram", "Dhenkanal", "Dhoraji", "Dhubri", "Dhule", "Dhuri", "Dibrugarh", "Dimapur", "Diphu", "Dumka", "Dumraon", "Durg", "Eluru", "English Bazar", "Erode", "Etawah", "Faridabad", "Faridkot", "Farooqnagar", "Fatehabad", "Fatehpur Sikri", "Fazilka", "Firozabad", "Firozpur", "Firozpur Cantt.", "Forbesganj", "Gadwal", "Gangarampur", "Ganjbasoda", "Gaya", "Giridih", "Goalpara", "Gobichettipalayam", "Gobindgarh", "Godhra", "Gohana", "Gokak", "Gooty", "Gopalganj", "Gudivada", "Gudur", "Gumia", "Guntakal", "Guntur", "Gurdaspur", "Gurgaon", "Guruvayoor", "Guwahati", "Gwalior", "Habra", "Hajipur", "Haldwani-cum-Kathgodam", "Hansi", "Hapur", "Hardoi ", "Hardwar", "Hazaribag", "Hindupur", "Hisar", "Hoshiarpur", "Hubli-Dharwad", "Hugli-Chinsurah", "Hyderabad", "Ichalkaranji", "Imphal", "Indore", "Itarsi", "Jabalpur", "Jagdalpur", "Jaggaiahpet", "Jagraon", "Jagtial", "Jaipur", "Jalandhar", "Jalandhar Cantt.", "Jalpaiguri", "Jamalpur", "Jammalamadugu", "Jammu", "Jamnagar", "Jamshedpur", "Jamui", "Jangaon", "Jatani", "Jehanabad", "Jhansi", "Jhargram", "Jharsuguda", "Jhumri Tilaiya", "Jind", "Jodhpur", "Jorhat", "Kadapa", "Kadi", "Kadiri", "Kagaznagar", "Kailasahar", "Kaithal", "Kakinada", "Kalimpong", "Kalpi", "Kalyan-Dombivali", "Kamareddy", "Kancheepuram", "Kandukur", "Kanhangad", "Kannur", "Kanpur", "Kapadvanj", "Kapurthala", "Karaikal", "Karimganj", "Karimnagar", "Karjat", "Karnal", "Karur", "Karwar", "Kasaragod", "Kashipur", "KathUrban Agglomeration", "Katihar", "Kavali", "Kayamkulam", "Kendrapara", "Kendujhar", "Keshod", "Khair", "Khambhat", "Khammam", "Khanna", "Kharagpur", "Kharar", "Khowai", "Kishanganj", "Kochi", "Kodungallur", "Kohima", "Kolar", "Kolkata", "Kollam", "Koratla", "Korba", "Kot Kapura", "Kothagudem", "Kottayam", "Kovvur", "Koyilandy", "Kozhikode", "Kunnamkulam", "Kurnool", "Kyathampalle", "Lachhmangarh", "Ladnu", "Ladwa", "Lahar", "Laharpur", "Lakheri", "Lakhimpur", "Lakhisarai", "Lakshmeshwar", "Lal Gopalganj Nindaura", "Lalganj", "Lalganj", "Lalgudi", "Lalitpur", "Lalsot", "Lanka", "Lar", "Lathi", "Latur", "Lilong", "Limbdi", "Lingsugur", "Loha", "Lohardaga", "Lonar", "Lonavla", "Longowal", "Loni", "Losal", "Lucknow", "Ludhiana", "Lumding", "Lunawada", "Lunglei", "Macherla", "Machilipatnam", "Madanapalle", "Maddur", "Madhepura", "Madhubani", "Madhugiri", "Madhupur", "Madikeri", "Madurai", "Magadi", "Mahad", "Mahalingapura", "Maharajganj", "Maharajpur", "Mahasamund", "Mahbubnagar", "Mahe", "Mahemdabad", "Mahendragarh", "Mahesana", "Mahidpur", "Mahnar Bazar", "Mahuva", "Maihar", "Mainaguri", "Makhdumpur", "Makrana", "Malaj Khand", "Malappuram", "Malavalli", "Malda", "Malegaon", "Malerkotla", "Malkangiri", "Malkapur", "Malout", "Malpura", "Malur", "Manachanallur", "Manasa", "Manavadar", "Manawar", "Mancherial", "Mandalgarh", "Mandamarri", "Mandapeta", "Mandawa", "Mandi", "Mandi Dabwali", "Mandideep", "Mandla", "Mandsaur", "Mandvi", "Mandya", "Manendragarh", "Maner", "Mangaldoi", "Mangaluru", "Mangalvedhe", "Manglaur", "Mangrol", "Mangrol", "Mangrulpir", "Manihari", "Manjlegaon", "Mankachar", "Manmad", "Mansa", "Mansa", "Manuguru", "Manvi", "Manwath", "Mapusa", "Margao", "Margherita", "Marhaura", "Mariani", "Marigaon", "Markapur", "Marmagao", "Masaurhi", "Mathabhanga", "Mathura", "Mattannur", "Mauganj", "Mavelikkara", "Mavoor", "Mayang Imphal", "Medak", "Medininagar (Daltonganj)", "Medinipur", "Meerut", "Mehkar", "Memari", "Merta City", "Mhaswad", "Mhow Cantonment", "Mhowgaon", "Mihijam", "Mira-Bhayandar", "Mirganj", "Miryalaguda", "Modasa", "Modinagar", "Moga", "Mohali", "Mokameh", "Mokokchung", "Monoharpur", "Moradabad", "Morena", "Morinda, India", "Morshi", "Morvi", "Motihari", "Motipur", "Mount Abu", "Mudabidri", "Mudalagi", "Muddebihal", "Mudhol", "Mukerian", "Mukhed", "Muktsar", "Mul", "Mulbagal", "Multai", "Mumbai", "Mundargi", "Mundi", "Mungeli", "Munger", "Murliganj", "Murshidabad", "Murtijapur", "Murwara (Katni)", "Musabani", "Mussoorie", "Muvattupuzha", "Muzaffarpur", "Mysore", "Nabadwip", "Nabarangapur", "Nabha", "Nadbai", "Nadiad", "Nagaon", "Nagapattinam", "Nagar", "Nagari", "Nagarkurnool", "Nagaur", "Nagda", "Nagercoil", "Nagina", "Nagla", "Nagpur", "Nahan", "Naharlagun", "Naidupet", "Naihati", "Naila Janjgir", "Nainital", "Nainpur", "Najibabad", "Nakodar", "Nakur", "Nalbari", "Namagiripettai", "Namakkal", "Nanded-Waghala", "Nandgaon", "Nandivaram-Guduvancheri", "Nandura", "Nandurbar", "Nandyal", "Nangal", "Nanjangud", "Nanjikottai", "Nanpara", "Narasapuram", "Narasaraopet", "Naraura", "Narayanpet", "Nargund", "Narkatiaganj", "Narkhed", "Narnaul", "Narsinghgarh", "Narsinghgarh", "Narsipatnam", "Narwana", "Nashik", "Nasirabad", "Natham", "Nathdwara", "Naugachhia", "Naugawan Sadat", "Nautanwa", "Navalgund", "Navsari", "Nawabganj", "Nawada", "Nawanshahr", "Nawapur", "Nedumangad", "Neem-Ka-Thana", "Neemuch", "Nehtaur", "Nelamangala", "Nellikuppam", "Nellore", "Nepanagar", "New Delhi", "Neyveli (TS)", "Neyyattinkara", "Nidadavole", "Nilambur", "Nilanga", "Nimbahera", "Nirmal", "Niwai", "Niwari", "Nizamabad", "Nohar", "Noida", "Nokha", "Nokha", "Nongstoin", "Noorpur", "North Lakhimpur", "Nowgong", "Nowrozabad (Khodargama)", "Nuzvid", "O' Valley", "Obra", "Oddanchatram", "Ongole", "Orai", "Osmanabad", "Ottappalam", "Ozar", "P.N.Patti", "Pachora", "Pachore", "Pacode", "Padmanabhapuram", "Padra", "Padrauna", "Paithan", "Pakaur", "Palacole", "Palai", "Palakkad", "Palampur", "Palani", "Palanpur", "Palasa Kasibugga", "Palghar", "Pali", "Pali", "Palia Kalan", "Palitana", "Palladam", "Pallapatti", "Pallikonda", "Palwal", "Palwancha", "Panagar", "Panagudi", "Panaji", "Panamattom", "Panchkula", "Panchla", "Pandharkaoda", "Pandharpur", "Pandhurna", "PandUrban Agglomeration", "Panipat", "Panna", "Panniyannur", "Panruti", "Panvel", "Pappinisseri", "Paradip", "Paramakudi", "Parangipettai", "Parasi", "Paravoor", "Parbhani", "Pardi", "Parlakhemundi", "Parli", "Partur", "Parvathipuram", "Pasan", "Paschim Punropara", "Pasighat", "Patan", "Pathanamthitta", "Pathankot", "Pathardi", "Pathri", "Patiala", "Patna", "Patratu", "Pattamundai", "Patti", "Pattran", "Pattukkottai", "Patur", "Pauni", "Pauri", "Pavagada", "Pedana", "Peddapuram", "Pehowa", "Pen", "Perambalur", "Peravurani", "Peringathur", "Perinthalmanna", "Periyakulam", "Periyasemur", "Pernampattu", "Perumbavoor", "Petlad", "Phagwara", "Phalodi", "Phaltan", "Phillaur", "Phulabani", "Phulera", "Phulpur", "Phusro", "Pihani", "Pilani", "Pilibanga", "Pilibhit", "Pilkhuwa", "Pindwara", "Pinjore", "Pipar City", "Pipariya", "Piriyapatna", "Piro", "Pithampur", "Pithapuram", "Pithoragarh", "Pollachi", "Polur", "Pondicherry", "Ponnani", "Ponneri", "Ponnur", "Porbandar", "Porsa", "Port Blair", "Powayan", "Prantij", "Pratapgarh", "Pratapgarh", "Prithvipur", "Proddatur", "Pudukkottai", "Pudupattinam", "Pukhrayan", "Pulgaon", "Puliyankudi", "Punalur", "Punch", "Pune", "Punganur", "Punjaipugalur", "Puranpur", "Puri", "Purna", "Purnia", "PurqUrban Agglomerationzi", "Purulia", "Purwa", "Pusad", "Puthuppally", "Puttur", "Puttur", "Qadian", "Raayachuru", "Rabkavi Banhatti", "Radhanpur", "Rae Bareli", "Rafiganj", "Raghogarh-Vijaypur", "Raghunathganj", "Raghunathpur", "Rahatgarh", "Rahuri", "Raiganj", "Raigarh", "Raikot", "Raipur", "Rairangpur", "Raisen", "Raisinghnagar", "Rajagangapur", "Rajahmundry", "Rajakhera", "Rajaldesar", "Rajam", "Rajampet", "Rajapalayam", "Rajauri", "Rajgarh", "Rajgarh (Alwar)", "Rajgarh (Churu)", "Rajgir", "Rajkot", "Rajnandgaon", "Rajpipla", "Rajpura", "Rajsamand", "Rajula", "Rajura", "Ramachandrapuram", "Ramagundam", "Ramanagaram", "Ramanathapuram", "Ramdurg", "Rameshwaram", "Ramganj Mandi", "Ramgarh", "Ramnagar", "Ramnagar", "Ramngarh", "Rampur", "Rampur Maniharan", "Rampura Phul", "Rampurhat", "Ramtek", "Ranaghat", "Ranavav", "Ranchi", "Ranebennuru", "Rangia", "Rania", "Ranibennur", "Ranipet", "Rapar", "Rasipuram", "Rasra", "Ratangarh", "Rath", "Ratia", "Ratlam", "Ratnagiri", "Rau", "Raurkela", "Raver", "Rawatbhata", "Rawatsar", "Raxaul Bazar", "Rayachoti", "Rayadurg", "Rayagada", "Reengus", "Rehli", "Renigunta", "Renukoot", "Reoti", "Repalle", "Revelganj", "Rewa", "Rewari", "Rishikesh", "Risod", "Robertsganj", "Robertson Pet", "Rohtak", "Ron", "Roorkee", "Rosera", "Rudauli", "Rudrapur", "Rudrapur", "Rupnagar", "Sabalgarh", "Sadabad", "Sadalagi", "Sadasivpet", "Sadri", "Sadulpur", "Sadulshahar", "Safidon", "Safipur", "Sagar", "Sagara", "Sagwara", "Saharanpur", "Saharsa", "Sahaspur", "Sahaswan", "Sahawar", "Sahibganj", "Sahjanwa", "Saidpur", "Saiha", "Sailu", "Sainthia", "Sakaleshapura", "Sakti", "Salaya", "Salem", "Salur", "Samalkha", "Samalkot", "Samana", "Samastipur", "Sambalpur", "Sambhal", "Sambhar", "Samdhan", "Samthar", "Sanand", "Sanawad", "Sanchore", "Sandi", "Sandila", "Sanduru", "Sangamner", "Sangareddy", "Sangaria", "Sangli", "Sangole", "Sangrur", "Sankarankovil", "Sankari", "Sankeshwara", "Santipur", "Sarangpur", "Sardarshahar", "Sardhana", "Sarni", "Sarsod", "Sasaram", "Sasvad", "Satana", "Satara", "Sathyamangalam", "Satna", "Sattenapalle", "Sattur", "Saunda", "Saundatti-Yellamma", "Sausar", "Savanur", "Savarkundla", "Savner", "Sawai Madhopur", "Sawantwadi", "Sedam", "Sehore", "Sendhwa", "Seohara", "Seoni", "Seoni-Malwa", "Shahabad", "Shahabad, Hardoi", "Shahabad, Rampur", "Shahade", "Shahbad", "Shahdol", "Shahganj", "Shahjahanpur", "Shahpur", "Shahpura", "Shahpura", "Shajapur", "Shamgarh", "Shamli", "Shamsabad, Agra", "Shamsabad, Farrukhabad", "Shegaon", "Sheikhpura", "Shendurjana", "Shenkottai", "Sheoganj", "Sheohar", "Sheopur", "Sherghati", "Sherkot", "Shiggaon", "Shikaripur", "Shikarpur, Bulandshahr", "Shikohabad", "Shillong", "Shimla", "Shirdi", "Shirpur-Warwade", "Shirur", "Shishgarh", "Shivamogga", "Shivpuri", "Sholavandan", "Sholingur", "Shoranur", "Shrigonda", "Shrirampur", "Shrirangapattana", "Shujalpur", "Siana", "Sibsagar", "Siddipet", "Sidhi", "Sidhpur", "Sidlaghatta", "Sihor", "Sihora", "Sikanderpur", "Sikandra Rao", "Sikandrabad", "Sikar", "Silao", "Silapathar", "Silchar", "Siliguri", "Sillod", "Silvassa", "Simdega", "Sindagi", "Sindhagi", "Sindhnur", "Singrauli", "Sinnar", "Sira", "Sircilla", "Sirhind Fatehgarh Sahib", "Sirkali", "Sirohi", "Sironj", "Sirsa", "Sirsaganj", "Sirsi", "Sirsi", "Siruguppa", "Sitamarhi", "Sitapur", "Sitarganj", "Sivaganga", "Sivagiri", "Sivakasi", "Siwan", "Sohagpur", "Sohna", "Sojat", "Solan", "Solapur", "Sonamukhi", "Sonepur", "Songadh", "Sonipat", "Sopore", "Soro", "Soron", "Soyagaon", "Sri Madhopur", "Srikakulam", "Srikalahasti", "Srinagar", "Srinagar", "Srinivaspur", "Srirampore", "Srisailam Project (Right Flank Colony) Township", "Srivilliputhur", "Sugauli", "Sujangarh", "Sujanpur", "Sullurpeta", "Sultanganj", "Sultanpur", "Sumerpur", "Sumerpur", "Sunabeda", "Sunam", "Sundargarh", "Sundarnagar", "Supaul", "Surandai", "Surapura", "Surat", "Suratgarh", "SUrban Agglomerationr", "Suri", "Suriyampalayam", "Suryapet", "Tadepalligudem", "Tadpatri", "Takhatgarh", "Taki", "Talaja", "Talcher", "Talegaon Dabhade", "Talikota", "Taliparamba", "Talode", "Talwara", "Tamluk", "Tanda", "Tandur", "Tanuku", "Tarakeswar", "Tarana", "Taranagar", "Taraori", "Tarbha", "Tarikere", "Tarn Taran", "Tasgaon", "Tehri", "Tekkalakote", "Tenali", "Tenkasi", "Tenu dam-cum-Kathhara", "Terdal", "Tezpur", "Thakurdwara", "Thammampatti", "Thana Bhawan", "Thane", "Thanesar", "Thangadh", "Thanjavur", "Tharad", "Tharamangalam", "Tharangambadi", "Theni Allinagaram", "Thirumangalam", "Thirupuvanam", "Thiruthuraipoondi", "Thiruvalla", "Thiruvallur", "Thiruvananthapuram", "Thiruvarur", "Thodupuzha", "Thoubal", "Thrissur", "Thuraiyur", "Tikamgarh", "Tilda Newra", "Tilhar", "Tindivanam", "Tinsukia", "Tiptur", "Tirora", "Tiruchendur", "Tiruchengode", "Tiruchirappalli", "Tirukalukundram", "Tirukkoyilur", "Tirunelveli", "Tirupathur", "Tirupathur", "Tirupati", "Tiruppur", "Tirur", "Tiruttani", "Tiruvannamalai", "Tiruvethipuram", "Tiruvuru", "Tirwaganj", "Titlagarh", "Tittakudi", "Todabhim", "Todaraisingh", "Tohana", "Tonk", "Tuensang", "Tuljapur", "Tulsipur", "Tumkur", "Tumsar", "Tundla", "Tuni", "Tura", "Uchgaon", "Udaipur", "Udaipur", "Udaipurwati", "Udgir", "Udhagamandalam", "Udhampur", "Udumalaipettai", "Udupi", "Ujhani", "Ujjain", "Umarga", "Umaria", "Umarkhed", "Umbergaon", "Umred", "Umreth", "Una", "Unjha", "Unnamalaikadai", "Unnao", "Upleta", "Uran", "Uran Islampur", "Uravakonda", "Urmar Tanda", "Usilampatti", "Uthamapalayam", "Uthiramerur", "Utraula", "Vadakkuvalliyur", "Vadalur", "Vadgaon Kasba", "Vadipatti", "Vadnagar", "Vadodara", "Vaijapur", "Vaikom", "Valparai", "Valsad", "Vandavasi", "Vaniyambadi", "Vapi", "Vapi", "Varanasi", "Varkala", "Vasai-Virar", "Vatakara", "Vedaranyam", "Vellakoil", "Vellore", "Venkatagiri", "Veraval", "Vidisha", "Vijainagar, Ajmer", "Vijapur", "Vijayapura", "Vijayawada", "Vijaypur", "Vikarabad", "Vikramasingapuram", "Viluppuram", "Vinukonda", "Viramgam", "Virudhachalam", "Virudhunagar", "Visakhapatnam", "Visnagar", "Viswanatham", "Vita", "Vizianagaram", "Vrindavan", "Vyara", "Wadgaon Road", "Wadhwan", "Wadi", "Wai", "Wanaparthy", "Wani", "Wankaner", "Wara Seoni", "Warangal", "Wardha", "Warhapur", "Warisaliganj", "Warora", "Warud", "Washim", "Wokha", "Yadgir", "Yamunanagar", "Yanam", "Yavatmal", "Yawal", "Yellandu", "Yemmiganur", "Yerraguntla", "Yevla", "Zaidpur", "Zamania", "Zira", "Zirakpur", "Zunheboto" }));
        getContentPane().add(jComboBox1);
        jComboBox1.setBounds(230, 80, 290, 40);

        jButton2.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jButton2.setText("Generate PDF");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });
        getContentPane().add(jButton2);
        jButton2.setBounds(20, 490, 150, 40);

        jButton3.setFont(new java.awt.Font("Tahoma", 0, 18)); // NOI18N
        jButton3.setText("Exit");
        jButton3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton3ActionPerformed(evt);
            }
        });
        getContentPane().add(jButton3);
        jButton3.setBounds(480, 490, 150, 40);

        jLabel9.setIcon(new javax.swing.ImageIcon(getClass().getResource("/weather/app/api/New.jpg"))); // NOI18N
        getContentPane().add(jLabel9);
        jLabel9.setBounds(-30, -210, 850, 1000);

        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();
        setBounds((screenSize.width-666)/2, (screenSize.height-589)/2, 666, 589);
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        // TODO add your handling code here:
        if (!"Select".equals(jComboBox1.getSelectedItem())) {
            try {
                String city = jComboBox1.getSelectedItem() + "";
                String key = "c8c1a1066ac9460ca0184509201610";
                URL url = new URL("http://api.weatherapi.com/v1/forecast.json?key=" + key + "&q=" + city + "&days=4");
                HttpURLConnection h = (HttpURLConnection) url.openConnection();

                int response = h.getResponseCode();
                //System.out.println(response);
                String r = null;
                if (response == HttpURLConnection.HTTP_OK) {
                    BufferedReader in = new BufferedReader(new InputStreamReader(h.getInputStream()));
                    StringBuffer data = new StringBuffer();
                    while ((r = in.readLine()) != null) {
                        data.append(r);
                    }
                    //System.out.println("JSON String Result " + data);

                    JSONObject j1 = new JSONObject(data + "");
                    jLabel1.setText(j1.getJSONObject("location").getString("name"));


                    JSONArray a = j1.getJSONObject("forecast").getJSONArray("forecastday");
                    //System.out.println("Array Length"+a.length());
                    JSONObject j2 = a.getJSONObject(0);
                    jLabel3.setText("MAX TEMP: " + j2.getJSONObject("day").get("maxtemp_c") + "");
                    jLabel4.setText("MIN TEMP: " + j2.getJSONObject("day").get("mintemp_c") + "");
                    jLabel5.setText("Date: " + j2.getString("date"));
                    jLabel6.setText("Current Temp: " + j1.getJSONObject("current").get("temp_c") + "Â°C");
                    jLabel7.setText("Condition: " + j1.getJSONObject("current").getJSONObject("condition").getString("text"));

                    String imageurl = j1.getJSONObject("current").getJSONObject("condition").getString("icon");
                    URL u = new URL("http:" + imageurl);
                    BufferedImage image = ImageIO.read(u);
                    jLabel8.setIcon(new ImageIcon(image.getScaledInstance(jLabel8.getWidth(),
                            jLabel8.getWidth(), jLabel8.getWidth())));

                    // save this to database

                    String m = j1.getJSONObject("location").getString("name");
                    Connection c = DriverManager.getConnection("jdbc:mysql://localhost/weather", "root", "");
                    PreparedStatement p = c.prepareStatement("insert into city values('" + m + "');");
                    p.execute();

                    String max, min, date;
                    min = j2.getJSONObject("day").get("mintemp_c") + "";
                    max = j2.getJSONObject("day").get("maxtemp_c") + "";
                    date = j2.getString("date");
                    PreparedStatement q = c.prepareStatement("insert into temp values('" + date + "','" + min + "','" + max + "');");
                    q.execute();

                } else {
                    JOptionPane.showMessageDialog(rootPane, "Enter Correct City", "Error", JOptionPane.ERROR_MESSAGE);
                }
            } catch (CommunicationsException e) {
                JOptionPane.showMessageDialog(rootPane, "MySQL Drivers Not Connected", "Connection Failure", JOptionPane.WARNING_MESSAGE);
            } catch (UnknownHostException e) {
                JOptionPane.showMessageDialog(rootPane, "No Internet Connection", "Alert", JOptionPane.WARNING_MESSAGE);
            } catch (Exception e) {
                System.out.println(e);
            }
        } else {
            JOptionPane.showMessageDialog(rootPane, "Select City Name");
        }

    }//GEN-LAST:event_jButton1ActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed

        Document document = new Document();
        try {
            String a = JOptionPane.showInputDialog(rootPane, "Enter file name you want to save");
            if (!"".equals(a)) {
                PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(a + ".pdf"));
                document.open();

                PdfPTable table = new PdfPTable(4); // 4 columns

                PdfPCell cell1 = new PdfPCell(new Paragraph("City Name"));
                PdfPCell cell2 = new PdfPCell(new Paragraph("Date"));
                PdfPCell cell3 = new PdfPCell(new Paragraph("Minimum Temp"));
                PdfPCell cell4 = new PdfPCell(new Paragraph("Maximum Temp"));

                table.addCell(cell1);
                table.addCell(cell2);
                table.addCell(cell3);
                table.addCell(cell4);

                Connection c = DriverManager.getConnection("jdbc:mysql://localhost/weather", "root", "");
                PreparedStatement p = c.prepareStatement("select * from city");
                PreparedStatement q = c.prepareStatement("select * from temp");
                ResultSet r = p.executeQuery();
                ResultSet t = q.executeQuery();
                while (r.next() && t.next()) {
                    table.addCell(r.getString(1));

                    table.addCell(t.getString(1));
                    table.addCell(t.getString(2));
                    table.addCell(t.getString(3));
                }
                document.add(table);

                document.close();
                writer.close();
                JOptionPane.showMessageDialog(rootPane, "PDF Generated  Successfully");
            } else {
                JOptionPane.showMessageDialog(rootPane, "Enter PDF Name");
            }
        } catch (FileNotFoundException e) {
            JOptionPane.showMessageDialog(rootPane, "File may be opened", "PDF Failed", JOptionPane.WARNING_MESSAGE);
        } catch (CommunicationsException e) {
            JOptionPane.showMessageDialog(rootPane, "MySQL Drivers Not Connected", "Connection Failure", JOptionPane.WARNING_MESSAGE);
        } catch (Exception e) {
            System.out.println(e + " jhkghk");
        }

    }//GEN-LAST:event_jButton2ActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
        System.exit(0);
    }//GEN-LAST:event_jButton3ActionPerformed

    private void formKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_formKeyPressed
        // TODO add your handling code here:
    }//GEN-LAST:event_formKeyPressed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Home.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Home.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Home.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Home.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Home().setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JComboBox jComboBox1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    // End of variables declaration//GEN-END:variables
}
